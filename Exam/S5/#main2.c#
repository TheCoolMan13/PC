#include <stdio.h>
#include <stdint.h>
// Ex 14
//Un nibble este un grup de 4 biti. Să se scrie un program care primește un număr fără semn n și această funcție
//a) returnează valoarea acestui număr cu ordinea inversă a nibble-urilor
//b) returnează valoarea acestui număr cu biții din fiecare nibble în ordine inversă

int task_a(uint16_t input)
{
  uint16_t output=0;
  for(int nibble = 3 ; nibble >= 0 ; nibble--)
    {
      for(int indice = nibble * 4 + 4 ; indice > (nibble * 4) ; indice--)
	{
	  printf("%d" , (output>>indice)&1);
	}
    }
  return output;
}


uint8_t reverse_bits_in_nibble(uint8_t n) {
    uint8_t res = 0;
    
    // Pentru ambele nibble-uri simultan:
    // Bitii 0 si 4 ajung pe pozitiile 3 si 7
    res |= (n & 0x11) << 3; 
    // Bitii 1 si 5 ajung pe pozitiile 2 si 6
    res |= (n & 0x22) << 1;
    // Bitii 2 si 6 ajung pe pozitiile 1 si 5
    res |= (n & 0x44) >> 1;
    // Bitii 3 si 7 ajung pe pozitiile 0 si 4
    res |= (n & 0x88) >> 3;

    return res;
}


uint8_t reverse_nibbles(uint8_t n) {
    return ((n & 0x0F) << 4) | ((n & 0xF0) >> 4);
}

int task_b()
{
  
  return 0;
}





#include <stdio.h>
#include <stdint.h>

void afisare_pe_biti(uint8_t n) {
    for(int i = 7; i >= 0; i--) printf("%d", (n >> i) & 1);
    printf("\n");
}

int main() {
    uint32_t temp;
    printf("Introdu un nr (0-255): ");
    scanf("%u", &temp); 
    uint8_t n = (uint8_t)temp;

    printf("Original:    "); afisare_pe_biti(n);
    printf("Swap Nibble: "); afisare_pe_biti(reverse_nibbles(n));
    printf("Rev in Nib:  "); afisare_pe_biti(reverse_bits_in_nibble(n));

    return 0;
}



int main()
{
  uint16_t input;
  uint16_t output;
  scanf("%hhu" , &input);
  output = task_a(input);

  return 0;
}
